<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${titulo}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<h3 th:text="${titulo}"></h3>

<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Especie</th>
        <th>Raza</th>
        <th>Fecha Nacimiento</th>
        <th>Id - Nombre Propietario</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody th:each="temList: ${mascotas}">
    <tr>
        <td th:text="${temList.id}"></td>
        <td th:text="${temList.nombre}"></td>
        <td th:text="${temList.especie}"></td>
        <td th:text="${temList.raza}"></td>
        <td th:text="${temList.fecha_nacimiento}"></td>
        <td th:text="${temList.propietario != null ? temList.propietario.id + '. ' + temList.propietario.nombre : 'Sin Propietario'}"></td>

        <td>
            <a class="btn btn-warning" th:href="@{/mascota/editar/{id}(id=${temList.id})}">Editar</a>
            <a class="btn btn-danger" th:href="@{/mascota/eliminar/{id}(id=${temList.id})}" onclick="return confirm('¿Estás seguro de eliminar?');">Eliminar</a>
        </td>
    </tr>
    </tbody>
</table>

<a class="btn btn-success" th:href="@{/mascota/nuevo}">Nueva Mascota</a>
<a class="btn btn-info" th:href="@{/listar}">Gestionar Propietarios</a>
<a class="btn btn-info" th:href="@{/veterinario/listar}">Gestionar Veterinarios</a>
<a class="btn btn-info" th:href="@{/consulta/listar}">Gestionar Consultas</a>
</body>
</html>

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${titulo}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<h3 th:text="${titulo}"></h3>

<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>ID - Nombre Mascota</th>
        <th>ID - Nombre Veterinario</th>
        <th>Fecha Consulta</th>
        <th>Motivo</th>
        <th>Diagnostico</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody th:each="temList: ${consulta}">
    <tr>
        <td th:text="${temList.id}"></td>
        <td th:text="${temList.mascota != null ? temList.mascota.id + '. ' + temList.mascota.nombre : 'Sin Mascota'}"></td>
        <td th:text="${temList.veterinarios != null ? temList.veterinarios.id + '. ' + temList.veterinarios.nombre : 'Sin veterinario'}"></td>
        <td th:text="${temList.fecha_consulta}"></td>
        <td th:text="${temList.motivo}"></td>
        <td th:text="${temList.diagnostico}"></td>

        <td>
            <a class="btn btn-warning" th:href="@{/consulta/editar/{id}(id=${temList.id})}">Editar</a>
            <a class="btn btn-danger" th:href="@{/consulta/eliminar/{id}(id=${temList.id})}" onclick="return confirm('¿Estás seguro de eliminar?');">Eliminar</a>
        </td>
    </tr>
    </tbody>
</table>

<a class="btn btn-success" th:href="@{/consulta/nuevo}">Nueva Consulta</a>
<a class="btn btn-info" th:href="@{/listar}">Gestionar Propietarios</a>
<a class="btn btn-info" th:href="@{/veterinario/listar}">Gestionar Veterinarios</a>
<a class="btn btn-info" th:href="@{/mascota/listar}">Gestionar Mascotas</a>
</body>
</html>
